<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Desenvolvimento de apps híbridos com Cordova</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">


		<style>
			.reveal .slide-number {
				right: 53px;
				bottom: 53px;
				font-size: 23px;
				width: 25px;
				text-align: center;
			}
			.bola {
				position: absolute;
				width: 15px;
				height: 15px;
				margin-left: -10px;
				margin-top: -10px;
				border: 3px solid red;
				border-radius: 100%;
				z-index: 10000;
				background-color: rgba(255,0,0,.6);
				box-shadow: 0 0 30px #F00;
			}

			img {
				border: none !important;
				background-color: transparent !important;
				box-shadow: none !important;
			}
	    </style>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h2>Desenvolvimento de apps híbridos com cordova</h2>
					<p>Dinâmica em tempo real</p>
					<p>
						<small>Henrique Moreira (@onrizon / @gartic)</small>
					</p>
				</section>

				<section data-background="#660000">
					<section>
						<h2><img src="imgs/onrizon-logo.png" /></h2>
						<p></p>
						<p>
							<ul>
								<li>Fundada em 2012</li>
								<li>Backend em Node.js</li>
								<li>Tecnologias: Grunt, Jade, Stylus, Socket.io</li>
								<li>Apps desenvolvidos em cordova para iOS, Android, WP8 e Firefox OS</li>
							</ul>
						</p>
						<p><a href="http://www.onrizon.com.br/">www.onrizon.com.br</a></p>
					</section>
					<section data-background="#006600">
						<h2>BuracoON</h2>
						<p>
							<img src="imgs/buracoon.png" style="float: left;" />
							<ul style="max-width: 60%; margin-top: 50px;">
								<li>Lançado em março de 2012</li>
								<li>Primeiro jogo de buraco online para smartphones</li>
								<li>70% do publico italiano</li>
								<li>Web, iOS, Android, WP8 e Firefox OS</li>
								<li>Mais de 1 milhão de downloads</li>
								<li>Mais de 250 mil cadastros</li>
							</ul>
						</p>
					</section>
					<section data-background="#006600">
						<h2>TrucoON</h2>
						<p>
							<img src="imgs/trucoon.png" style="float: left;" />
							<ul style="max-width: 60%; margin-top: 98px;">
								<li>Lançado em agosto de 2012</li>
								<li>Jogo número 1 de truco no iOS</li>
								<li>iOS, Android, WP8 e Firefox OS</li>
								<li>Mais de 150 mil cadastros</li>
							</ul>
						</p>
					</section>
				</section>

				<section data-background="#003E7D">
					<section>
						<h2><img src="imgs/gartic-logo.png" /></h2>
						<p>
							<ul>
								<li>Fundada em 2008</li>
								<li>Backend em PHP</li>
								<li>Média de 70 mil visitas diárias</li>
								<li>Mais de 2 milhões de pageviews por mês</li>
								<li>Um milhão de cadastros</li>
							</ul>
						</p>
						<p><a href="http://www.gartic.com.br/">www.gartic.com.br</a></p>
					</section>
					<section>
						<h2>Gartic App</h2>
						<p>
							<img src="imgs/gartic.png" style="float: left;" />
							<ul style="max-width: 60%; margin-top: 95px;">
								<li>Aplicativo lançado em dezembro de 2013</li>
								<li>Plataformas: Android, iOS, WP8 e Firefox OS</li>
								<li>Mais de 1 milhão de downloads</li>
							</ul>
						</p>
					</section>
				</section>

				<section>
					<section>
						<h2>Cordova</h2>
						<img src="imgs/cordova.png" />
						<ul>
							<li>Criado pela Nitobi em 2009 (Phonegap)</li>
							<li>Aquisição pela Adobe em 2011</li>
							<li>Integrado ao Apache como Apache Callback em 2011</li>
							<li>Apache Cordova</li>
						</ul>
					</section>

					<section>
						<h2>Instalação</h2>
						
						<pre><code class="bash" data-trim contenteditable>
#Instalando o cordova globalmente via NPM
npm install -g cordova

#Criando o projeto
cordova create diretorio com.gartic.Gartic NomeDoApp
						</code></pre>
					</section>

					<section>
						<h2>Inclusão de plataformas</h2>
						<p>Criando as estruturas para cada plataforma</p>
						
						<pre><code class="bash" data-trim contenteditable>
#Acessando o diretorio do projeto criado
cd diretorio

#Adicionando plataformas de desenvolvimento
cordova platform add ios
cordova platform add android@4.0.0
cordova platform add wp8
cordova platform add browser

#Listando plataformas
cordova platform ls
						</code></pre>
						<p>Antes de utilizar uma plataforma, instalar o respectivo SDK:</p>
						<p><small><a href="http://cordova.apache.org/docs/en/5.0.0/guide_platforms_index.md.html#Platform%20Guides">http://cordova.apache.org/docs/en/5.0.0/guide_platforms_index.md.html#Platform%20Guides</a></small></p>
					</section>

					<section>
						<h2>Execução</h2>
						<p></p>
						<pre><code class="bash" data-trim contenteditable>
#Compilar o projeto
cordova build ios

#Emular o projeto em simuladores
cordova emulate android
cordova emulate ios --target=iPhone-6

#Executar o projeto no dispositivo
cordova run wp8
cordova run ios --device
						</code></pre>
					</section>

					<section>
						<h2>Depuração</h2>
						<ul>
							<li>Android: Chrome (via <a href="chrome://inspect/">chrome://inspect/</a>)</li>
							<li>iOS: Menu Desenvolvedor no Safari</li>
							<li>WP8: Weire (Apache) ou (Microsoft)</li>
						</ul>
					</section>

					<section>
						<h2>Configuração</h2>
						<ul>
							<li>Estrutura do projeto em <strong>www</strong></li>
							<li>Inclusão do <strong>cordova.js</strong> e capturar evento <strong>deviceready</strong>
							<pre><code class="html" data-trim contenteditable>
&lt;script src="cordova.js"&gt;&lt;/script&gt;
						</code></pre></li>
							<li>Detalhamento comportamental no <strong>config.xml</strong></li>
							<pre><code class="html" data-trim contenteditable>
&lt;!-- Forçando o app a utilizar a tela inteira --&gt;
&lt;preference name="Fullscreen" value="true" /&gt;

&lt;!-- Indicando a orientação a ser utilizada --&gt;
&lt;preference name="Orientation" value="portrait" /&gt;
							</code></pre></li>
						</ul>
						<p>
							<small><a href="http://cordova.apache.org/docs/en/5.0.0/config_ref_index.md.html#The%20config.xml%20File">http://cordova.apache.org/docs/en/5.0.0/config_ref_index.md.html#The%20config.xml%20File</a></small>
						</p>
					</section>

					<section>
						<h2>Plugins</h2>
						<ul>
							<li>Funcionalidades extras para a comunicação com o dispositivo</li>
							<li>Baseado na plataforma do NPM (>= 5.0.0)</li>
						</ul>
						<pre><code class="bash" data-trim contenteditable>
#Adicionando plugin
cordova plugin add cordova-plugin-media

#Listagem
cordova plugin ls

#Removendo plugin
cordova plugin rm cordova-plugin-media
						</code></pre>
						<p>
							<ul>
								<li>Padrão: Media, Vibration, Camera, Statusbar, ...</li>
								<li>Terceiros: <a href="https://github.com/floatinghotpot/cordova-admob-pro">AdMob</a>, <a href="https://github.com/pushandplay/cordova-plugin-apprate">AppRate</a>, <a href="https://github.com/crosswalk-project/cordova-plugin-crosswalk-webview">Crosswalk</a>, ...</li>
							</ul>
						</p>
						<p><small><a href="https://www.npmjs.com/search?q=ecosystem%3Acordova">https://www.npmjs.com/search?q=ecosystem%3Acordova</a></small></p>
					</section>

					<section>
						<h2>Ferramentas</h2>
						<ul>
							<li><a href="https://build.phonegap.com/">Adobe Phonegap Build</a></li>
							<li><a href="https://play.google.com/store/apps/details?id=com.adobe.phonegap.app&hl=pt_BR">Phonegap Developer</a></li>
							<li><a href="http://ionicframework.com/">Ionic</a></li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h2>Livrarias externas</h2>
						<p>Códigos focados para uma funcionalidade especifica</p>
						<p>
							<ul>
								<li><a href="http://hammerjs.github.io/">Hammer.js</a></li>
								<li><a href="https://github.com/ftlabs/fastclick">Fastclick</a></li>
								<li><a href="http://iscrolljs.com/">iScroll</a></li>
								<li><a href="http://socket.io/">Socket.io</a></li>
							</ul>
						</p>
					</section>
					<section>
						<h2>Hammer.js</h2>
						<p>Controle de gestos</p>
						<pre><code class="javascript" data-trim contenteditable>
//Instancia um controlador para o tratamento dos gestos 
//no elemento com id "dados"
new Hammer.Manager(document.getElementById('dados'),{
    recognizers: [
        [Hammer.Tap, { taps: 2, posThreshold: 20 }],
        [Hammer.Press, { threshold: 50, time: 200 }],
        [Hammer.Pinch],
        [Hammer.Swipe]
    ]
})
//Tratando o evento tap
.on('tap', function(e) {
    
});
						</code></pre>
						<p><a href="http://hammerjs.github.io/">http://hammerjs.github.io/</a></p>
					</section>
					<section>
						<h2>Socket.io</h2>
						<p>Comunicação via websockets com tratamento crossbrowser<br />Servidor:</p>
						<pre><code class="javascript" data-trim contenteditable>
//Criando servidor http e associoando ao socket.io
var serv = require('http').createServer();
var io = require('socket.io')(serv);

//Abrindo uma porta para conexao
serv.listen(6969);

io.on('connection', function(socket){
	socket.on('disconnect', function(msg){
	});

	socket.on('ping', function(msg){
		socket.emit('ping',msg);
	});
});
						</code></pre>
						<p><a href="http://socket.io/">http://socket.io/</a></p>
					</section>
					<section>
						<h2>Socket.io</h2>
						<p>Cliente</p>
						<pre><code class="html" data-trim contenteditable>
&lt;script src="http://localhost:6969/socket.io/socket.io.js"&gt;&lt;/script&gt;
&lt;script&gt;
	var socket = io('http://localhost:6969');
	socket.on('connect',function() {
		//conectado
	});

	socket.on('disconnect',function() {
		//desconectado
	});

	socket.on('ping',function(msg) {
		alert(msg.val);
	});	
	socket.emit('ping',{ val: 'Teste' });
&lt;/script&gt;
						</code></pre>
						<p><a href="http://socket.io/">http://socket.io/</a></p>
					</section>
				</section>

				<section>
					<section>
						<h2>Reveal.js</h2>
						<p>Plataforma para apresentação de slides utilizando HTML, CSS e JavaScript</p>
						<p><a href="http://lab.hakim.se/reveal-js/">http://lab.hakim.se/reveal-js/</a></p>
					</section>
					<section>
						<h2>API</h2>
						<pre><code class="javascript" data-trim contenteditable>
Reveal.slide( indexh, indexv, indexf );
Reveal.left();
Reveal.right();
Reveal.up();
Reveal.down();
Reveal.toggleOverview();
						</code></pre>
						<p><a href="https://github.com/hakimel/reveal.js#api">https://github.com/hakimel/reveal.js#api</a></p>
					</section>
				</section>

				<section>
					<section>
						<h2>HTML5</h2>
						<p>
							<ul>
								<li class="fragment">Vibration</li>
								<li class="fragment">Canvas</li>
								<li class="fragment">Device Orientation</li>	
								<li class="fragment">Websockets</li>
								<li class="fragment">WebRTC</li>
								<li class="fragment">CSS transitions/animations</li>
								<li class="fragment">Media Queries</li>
							</ul>
						</p>
						<p class="fragment"><a href="http://caniuse.com/">http://caniuse.com/</a></p>
					</section>
					<section>
						<h2>Device Orientation</h2>
						<p>Capturando evento</p>
						<pre><code class="javascript" data-trim contenteditable>
var a, b, g;
function callback(event) {
    a = event.alpha;
    b = event.beta;
    g = event.gamma;
}

window.addEventListener("deviceorientation", callback, false);

						</code></pre>
					</section>
				</section>

				<section style="text-align: left;">
					<h1>FIM ;)</h1>
					<p>
						- <a href="https://github.com/hakimel/reveal.js">rickgbw.github.io/palestra-cordova</a> <br />
						- <a href="mailto:rick@gartic.com">rick@gartic.com</a>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				slideNumber: true,


				transition: 'convex', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					/*{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },*/
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'http://localhost:3001/socket.io/socket.io.js', async: true },
					{ src: 'plugin/remote-control/remote.js', async: true }
				]
			});

		</script>
	</body>
</html>
